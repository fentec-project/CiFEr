<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CiFEr: include/cifer/abe/policy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CiFEr
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_3186075824eb6c6fc16d275650bc36ef.html">cifer</a></li><li class="navelem"><a class="el" href="dir_0d628d3c9b21a09631269a5f84e03143.html">abe</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">policy.h File Reference<div class="ingroups"><a class="el" href="group__abe.html">ABE schemes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for policy conversion needed for ABE schemes.  
<a href="#details">More...</a></p>

<p><a href="policy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfe__msp.html">cfe_msp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a53e678610f50a5cab9063c71e372246f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcfe__msp.html">cfe_msp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a53e678610f50a5cab9063c71e372246f">cfe_msp</a></td></tr>
<tr class="separator:a53e678610f50a5cab9063c71e372246f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abdca1eed140a88e4d409489ecbee346d"><td class="memItemLeft" align="right" valign="top">cfe_error&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#abdca1eed140a88e4d409489ecbee346d">cfe_boolean_to_msp</a> (<a class="el" href="structcfe__msp.html">cfe_msp</a> *msp, char *bool_exp, bool convert_to_ones)</td></tr>
<tr class="separator:abdca1eed140a88e4d409489ecbee346d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0594b9cbdbe7835c41abc1f84eee9737"><td class="memItemLeft" align="right" valign="top">cfe_error&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a0594b9cbdbe7835c41abc1f84eee9737">cfe_boolean_to_msp_iterative</a> (<a class="el" href="structcfe__msp.html">cfe_msp</a> *msp, char *bool_exp, <a class="el" href="structcfe__vec.html">cfe_vec</a> *vec, size_t c)</td></tr>
<tr class="separator:a0594b9cbdbe7835c41abc1f84eee9737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13756f923019878e3ae4c9563fc7a531"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a13756f923019878e3ae4c9563fc7a531">cfe_init_set_vecs_and</a> (<a class="el" href="structcfe__vec.html">cfe_vec</a> *vec1, <a class="el" href="structcfe__vec.html">cfe_vec</a> *vec2, <a class="el" href="structcfe__vec.html">cfe_vec</a> *vec, size_t c)</td></tr>
<tr class="separator:a13756f923019878e3ae4c9563fc7a531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387d762067b44cacf6140f13a0bb93b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a387d762067b44cacf6140f13a0bb93b9">cfe_str_to_int</a> (char *str)</td></tr>
<tr class="separator:a387d762067b44cacf6140f13a0bb93b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8eae6975afdc8aed9326ba02ae7894"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a8e8eae6975afdc8aed9326ba02ae7894">cfe_substring</a> (char *s, size_t start, size_t stop)</td></tr>
<tr class="separator:a8e8eae6975afdc8aed9326ba02ae7894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ab6a0a0264c0a93ec1ba1698c9a9ed"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a31ab6a0a0264c0a93ec1ba1698c9a9ed">cfe_remove_spaces</a> (char *source)</td></tr>
<tr class="separator:a31ab6a0a0264c0a93ec1ba1698c9a9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c00feda3549c6b317ba03ba6a76d66e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a1c00feda3549c6b317ba03ba6a76d66e">cfe_msp_free</a> (<a class="el" href="structcfe__msp.html">cfe_msp</a> *msp)</td></tr>
<tr class="separator:a1c00feda3549c6b317ba03ba6a76d66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4568e13814a8df90e0272011a4a425"><td class="memItemLeft" align="right" valign="top">cfe_error&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="policy_8h.html#a0a4568e13814a8df90e0272011a4a425">cfe_gaussian_elimination</a> (<a class="el" href="structcfe__vec.html">cfe_vec</a> *res, <a class="el" href="structcfe__mat.html">cfe_mat</a> *mat, <a class="el" href="structcfe__vec.html">cfe_vec</a> *vec, mpz_t p)</td></tr>
<tr class="separator:a0a4568e13814a8df90e0272011a4a425"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for policy conversion needed for ABE schemes. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a53e678610f50a5cab9063c71e372246f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e678610f50a5cab9063c71e372246f">&#9670;&nbsp;</a></span>cfe_msp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcfe__msp.html">cfe_msp</a>  <a class="el" href="structcfe__msp.html">cfe_msp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="structcfe__msp.html">cfe_msp</a> represents a monotone span program (MSP) describing a policy defining which attributes are needed to decrypt the ciphertext. It includes a matrix and a mapping from the rows of the matrix to attributes. A MSP policy allows decryption of an entity with a set of attributes A if an only if all the rows of the matrix mapped to an element of A span the vector <a href="or
vector [1, 1,..., 1] depending on the use case">1, 0,..., 0</a>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abdca1eed140a88e4d409489ecbee346d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdca1eed140a88e4d409489ecbee346d">&#9670;&nbsp;</a></span>cfe_boolean_to_msp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cfe_error cfe_boolean_to_msp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcfe__msp.html">cfe_msp</a> *&#160;</td>
          <td class="paramname"><em>msp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bool_exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>convert_to_ones</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cfe_boolean_to_msp takes as an input a boolean expression (without a NOT gate) and outputs a msp structure representing the expression, i.e. a matrix whose rows correspond to attributes used in the expression and with the property that a boolean expression assigning 1 to some attributes is satisfied iff the corresponding rows span a vector [1, 1,..., 1] or vector [1, 0,..., 0] depending if parameter convert_to_ones is set to true or false. Additionally a vector is produced whose i-th entry indicates to which attribute the i-th row corresponds. The boolean expression is a string where attributes are written as integers (hence they must not be greater than what int can hold) separated with AND and OR gates, with brackets defining the order of the gates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msp</td><td>A pointer to an uninitialized <a class="el" href="structcfe__msp.html">cfe_msp</a> struct representing the MSP structure; the result will be saved here </td></tr>
    <tr><td class="paramname">bool_exp</td><td>A string with the boolean expression </td></tr>
    <tr><td class="paramname">convert_to_ones</td><td>A boolean value defining which vector must the MSP matrix span, a vector [1, 1,..., 1] if set to true or vector [1, 0,..., 0] if set to false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an error if the boolean expression is not in the proper form and cannot be transformed. </dd></dl>

</div>
</div>
<a id="a0594b9cbdbe7835c41abc1f84eee9737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0594b9cbdbe7835c41abc1f84eee9737">&#9670;&nbsp;</a></span>cfe_boolean_to_msp_iterative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cfe_error cfe_boolean_to_msp_iterative </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcfe__msp.html">cfe_msp</a> *&#160;</td>
          <td class="paramname"><em>msp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bool_exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helping function used in boolean_to_msp. </p>

</div>
</div>
<a id="a13756f923019878e3ae4c9563fc7a531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13756f923019878e3ae4c9563fc7a531">&#9670;&nbsp;</a></span>cfe_init_set_vecs_and()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfe_init_set_vecs_and </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>vec1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>vec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helping function used in boolean_to_msp_iterative. </p>

</div>
</div>
<a id="a387d762067b44cacf6140f13a0bb93b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387d762067b44cacf6140f13a0bb93b9">&#9670;&nbsp;</a></span>cfe_str_to_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfe_str_to_int </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helping function used in boolean_to_msp_iterative. </p>

</div>
</div>
<a id="a8e8eae6975afdc8aed9326ba02ae7894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8eae6975afdc8aed9326ba02ae7894">&#9670;&nbsp;</a></span>cfe_substring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cfe_substring </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helping function used in boolean_to_msp_iterative. </p>

</div>
</div>
<a id="a31ab6a0a0264c0a93ec1ba1698c9a9ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ab6a0a0264c0a93ec1ba1698c9a9ed">&#9670;&nbsp;</a></span>cfe_remove_spaces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cfe_remove_spaces </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helping function used in boolean_to_msp_iterative. </p>

</div>
</div>
<a id="a1c00feda3549c6b317ba03ba6a76d66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c00feda3549c6b317ba03ba6a76d66e">&#9670;&nbsp;</a></span>cfe_msp_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfe_msp_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcfe__msp.html">cfe_msp</a> *&#160;</td>
          <td class="paramname"><em>msp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the memory occupied by the struct members. It does not free memory occupied by the struct itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msp</td><td>A pointer to a MSP (<em>initialized</em> <a class="el" href="structcfe__msp.html">cfe_msp</a> struct) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a4568e13814a8df90e0272011a4a425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4568e13814a8df90e0272011a4a425">&#9670;&nbsp;</a></span>cfe_gaussian_elimination()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cfe_error cfe_gaussian_elimination </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcfe__mat.html">cfe_mat</a> *&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcfe__vec.html">cfe_vec</a> *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mpz_t&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cfe_gaussian_elimination solves a matrix vector equation mat * x = v and finds vector x, using Gaussian elimination. Arithmetic operations are considered to be over Z_p, where p should be a prime number. If such x does not exist, then the function returns an 1, else 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>A pointer to an uninitialized vector where the result will be saved </td></tr>
    <tr><td class="paramname">mat</td><td>A pointer to the matrix for the equation </td></tr>
    <tr><td class="paramname">vec</td><td>A pointer to the right-hand side vector in the equation </td></tr>
    <tr><td class="paramname">p</td><td>Modulus for the computations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns CFE_ERR_NO_SOLUTION_EXISTS error if the solution does not exist, else CFE_ERR_NONE for no error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
